(this["webpackJsonp@quirk-a-bot/web-client"]=this["webpackJsonp@quirk-a-bot/web-client"]||[]).push([[0],[,,,,function(t,e,a){"use strict";a.d(e,"a",(function(){return O}));var r=a(12),n=a(0),i=a(8),o=a(1),c=a(3),s=a(7),u=function(){function t(e){var a=e.instanceCreator,r=e.name,n=e.traitDataStorageInitialiser,i=e.traitCollectionDataStorageInitialiser,c=e.parentPath,s=e.loggerCreator;Object(o.a)(this,t),this.dataStorage=void 0,this.log=void 0,this.name=void 0,this.path=void 0,this.name=r;for(var u=arguments.length,l=new Array(u>1?u-1:0),h=1;h<u;h++)l[h-1]=arguments[h];this.dataStorage=i({instanceCreator:a,name:r,parentPath:c,traitDataStorageInitialiser:n,initialData:l,loggerCreator:s}),this.log=this.dataStorage.log,this.path=this.dataStorage.path}return Object(c.a)(t,[{key:"size",get:function(){return this.dataStorage.size}},{key:"cleanUp",value:function(){return this.dataStorage.cleanUp()}},{key:"data",value:function(){return this.toArray().map((function(t){return t.data()}))}},{key:"delete",value:function(t){return this.dataStorage.delete(t),this}},{key:"get",value:function(t){return this.dataStorage.get(t)}},{key:"has",value:function(t){return this.dataStorage.has(t)}},{key:"set",value:function(t,e){return this.dataStorage.set(t,e),this}},{key:"toArray",value:function(){return this.dataStorage.toArray()}}]),t}(),l=a(5),h=a(6),v=a(15),d=function(){function t(e){var a=e.name,r=e.value,n=e.traitDataStorageInitialiser,i=e.parentPath,c=e.loggerCreator,s=e.data;Object(o.a)(this,t),this.dataStorage=void 0,this.data=void 0,this.log=void 0,this.name=void 0,this.path=void 0,this.name=a,this.dataStorage=n({name:a,defaultValueIfNotDefined:this.preProcessValue(r),parentPath:i,loggerCreator:c}),this.log=this.dataStorage.log,this.path=this.dataStorage.path,this.data=s}return Object(c.a)(t,[{key:"value",get:function(){return this.dataStorage.value},set:function(t){var e=this.preProcessValue(t);this.newValueIsValid(e)&&(this.dataStorage.value=e)}},{key:"cleanUp",value:function(){return!Object(v.a)(this.dataStorage)||this.dataStorage.cleanUp()}}]),t}(),g=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var r,c=t.min,s=void 0===c?0:c,u=t.max,l=t.value,h=void 0===l?s:l,v=Object(i.a)(t,["min","max","value"]);return Object(o.a)(this,a),(r=e.call(this,Object(n.a)(Object(n.a)({},v),{},{value:h}))).max=void 0,r.min=void 0,r.min=s,r.max=u,r}return Object(c.a)(a,[{key:"newValueIsValid",value:function(t){return!(t<this.min)&&!(t>this.max)}},{key:"preProcessValue",value:function(t){return Math.round(t)}}]),a}(d),b=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var r,c=t.min,s=void 0===c?0:c,u=t.value,l=void 0===u?s:u,h=Object(i.a)(t,["min","value"]);return Object(o.a)(this,a),r=e.call(this,Object(n.a)(Object(n.a)({},h),{},{value:l,data:function(){return{name:r.name,value:r.value}},min:s}))}return a}(g),f=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var r,c=t.min,s=void 0===c?0:c,u=t.value,l=void 0===u?s:u,h=t.categorySelector,v=Object(i.a)(t,["min","value","categorySelector"]);return Object(o.a)(this,a),(r=e.call(this,Object(n.a)(Object(n.a)({},v),{},{value:l,min:s,data:function(){return{name:r.name,value:r.value}}}))).categorySelector=void 0,r.category=void 0,r.categorySelector=h,r.category=r.categorySelector(r.name),r}return a}(g),p=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var r;return Object(o.a)(this,a),r=e.call(this,Object(n.a)(Object(n.a)({},t),{},{data:function(){return{name:r.name,value:r.value}}}))}return Object(c.a)(a,[{key:"newValueIsValid",value:function(t){return!0}},{key:"preProcessValue",value:function(t){return t}}]),a}(d),j=a(24),O=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,null,[{key:"newAttributeTrait",value:function(t){var e=t.value,a=void 0===e?0:e,r=Object(i.a)(t,["value"]);return new f(Object(n.a)(Object(n.a)({categorySelector:j.a},r),{},{value:a,min:1,max:5}))}},{key:"newAttributeTraitCollection",value:function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return Object(r.a)(u,[Object(n.a)(Object(n.a)({},e),{},{name:s.a,instanceCreator:t.newAttributeTrait})].concat(i))}},{key:"newCoreNumberTrait",value:function(t){var e=t.value,a=void 0===e?0:e,r=t.min,o=void 0===r?0:r,c=Object(i.a)(t,["value","min"]);return new b(Object(n.a)(Object(n.a)({},c),{},{value:a,min:o}))}},{key:"newCoreStringTrait",value:function(t){return new p(t)}},{key:"newDisciplineTrait",value:function(t){var e=t.value,a=Object(i.a)(t,["value"]);return new b(Object(n.a)(Object(n.a)({},a),{},{value:e,min:1,max:5}))}},{key:"newDisciplineTraitCollection",value:function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return Object(r.a)(u,[Object(n.a)(Object(n.a)({},e),{},{name:s.b,instanceCreator:t.newDisciplineTrait})].concat(i))}},{key:"newSkillTrait",value:function(t){var e=t.value,a=void 0===e?0:e,r=Object(i.a)(t,["value"]);return new b(Object(n.a)(Object(n.a)({},r),{},{min:0,max:5,value:a}))}},{key:"newSkillTraitCollection",value:function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return Object(r.a)(u,[Object(n.a)(Object(n.a)({},e),{},{name:s.c,instanceCreator:t.newSkillTrait})].concat(i))}},{key:"newTouchStoneOrConvictionTrait",value:function(t){var e=t.value,a=Object(i.a)(t,["value"]);return new p(Object(n.a)(Object(n.a)({},a),{},{value:e}))}},{key:"newTouchstonesAndConvictionTraitCollection",value:function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return Object(r.a)(u,[Object(n.a)(Object(n.a)({},e),{},{name:s.e,instanceCreator:t.newTouchStoneOrConvictionTrait})].concat(i))}}]),t}()},,,function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return i})),a.d(e,"e",(function(){return o})),a.d(e,"d",(function(){return c}));var r="Attributes",n="Skills",i="Disciplines",o="TouchstonesAndConvictions",c=""},,,,,,,,function(t,e,a){"use strict";function r(t){return"object"===typeof t&&void 0!==t.cleanUp}a.d(e,"a",(function(){return r}))},,,,,function(t,e,a){"use strict";(function(t){a.d(e,"a",(function(){return p}));var r=a(19),n=a.n(r),i=a(23),o=a(28),c=a(2),s=a(0),u=a(1),l=a(3),h=a(7),v=a(15),d=a(27),g=a(4),b=a(25),f=a(26),p=function(){function e(t){var a=this;Object(u.a)(this,e),this.logger=void 0,this.attributes=void 0,this.bloodPotency=void 0,this.clan=void 0,this.disciplines=void 0,this.health=void 0,this.humanity=void 0,this.hunger=void 0,this.id=void 0,this.name=void 0,this.sire=void 0,this.skills=void 0,this.touchstonesAndConvictions=void 0,this.willpower=void 0,this.log=void 0,this.path=void 0;var r=t.id,n=t.dataStorageFactory,i=(t.parentPath,t.characterSheetDataStorage);this.id=r,this.path=i.path;var o=i.getData();this.logger=new d.a({sourceName:this.path,parentLogHandler:null}),this.log=this.logger.reporter;var l=n.newTraitDataStorageInitialiser({characterSheet:this}),v=n.newTraitCollectionDataStorageInitialiser({characterSheet:this}),b={traitDataStorageInitialiser:l,parentPath:this.path,loggerCreator:function(t){return a.logger.createChildTraitLogger(t)}},f={traitCollectionDataStorageInitialiser:v,traitDataStorageInitialiser:l,parentPath:this.path,loggerCreator:function(t){return a.logger.createChildTraitCollectionLogger(t)}};this.bloodPotency=g.a.newCoreNumberTrait(Object(s.a)(Object(s.a)({},b),{},{max:10,name:"Blood Potency",value:o.bloodPotency.value||0})),this.hunger=g.a.newCoreNumberTrait(Object(s.a)(Object(s.a)({},b),{},{max:5,name:"Hunger",value:o.hunger.value||0})),this.humanity=g.a.newCoreNumberTrait(Object(s.a)(Object(s.a)({},b),{},{max:10,name:"Humanity",value:o.humanity.value||0})),this.health=g.a.newCoreNumberTrait(Object(s.a)(Object(s.a)({},b),{},{max:10,name:"Health",value:o.health.value||0})),this.willpower=g.a.newCoreNumberTrait(Object(s.a)(Object(s.a)({},b),{},{max:10,name:"Willpower",value:o.willpower.value||0})),this.name=g.a.newCoreStringTrait(Object(s.a)(Object(s.a)({},b),{},{name:"Name",value:o.name.value||h.d})),this.sire=g.a.newCoreStringTrait(Object(s.a)(Object(s.a)({},b),{},{name:"Sire",value:o.sire.value||h.d})),this.clan=g.a.newCoreStringTrait(Object(s.a)(Object(s.a)({},b),{},{name:"Clan",value:o.clan.value||h.d})),this.attributes=g.a.newAttributeTraitCollection.apply(g.a,[f].concat(Object(c.a)(o.attributes))),this.skills=g.a.newSkillTraitCollection.apply(g.a,[f].concat(Object(c.a)(o.skills))),this.disciplines=g.a.newDisciplineTraitCollection.apply(g.a,[f].concat(Object(c.a)(o.disciplines))),this.touchstonesAndConvictions=g.a.newTouchstonesAndConvictionTraitCollection.apply(g.a,[f].concat(Object(c.a)(o.touchstonesAndConvictions))),e.instances.set(this.id,this),e.instances.set(this.path,this)}return Object(l.a)(e,[{key:"cleanUp",value:function(){this.attributes,this.bloodPotency,this.clan,this.disciplines,this.health,this.humanity,this.hunger,this.id,this.name,this.sire,this.skills,this.touchstonesAndConvictions,this.willpower;for(var e=0,a=0,r=0,n=0,i=Object.entries(this);n<i.length;n++){var c=Object(o.a)(i[n],2),s=c[0],u=c[1];Object(v.a)(u)&&(e++,u.cleanUp()?a++:(console.warn(t,"There was an issue cleaning up ".concat(s)),r++))}return r&&console.warn(t,"Cleaned ".concat(a," / ").concat(e," items Successfully, but ").concat(r," / ").concat(e," were unsuccessful")),!r}},{key:"data",value:function(){return Object(b.a)(this)}},{key:"getAllTraits",value:function(){return[].concat(Object(c.a)(this.attributes.toArray()),Object(c.a)(this.disciplines.toArray()),Object(c.a)(this.skills.toArray()),Object(c.a)(this.touchstonesAndConvictions.toArray()),[this.bloodPotency,this.clan,this.health,this.humanity,this.hunger,this.name,this.sire,this.willpower])}}],[{key:"load",value:function(){var a=Object(i.a)(n.a.mark((function a(r){var i,o,c,u;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=r.dataStorageFactory,o=r.id,function(t){return!/\W\-/.test(t)}(o)){a.next=4;break}throw Error('Id "'.concat(o,'" is not a valid character sheet id. This should only contain alpha numeric characters, underscores, or dashes.'));case 4:if(!(c=e.instances.get(o))){a.next=7;break}return a.abrupt("return",c);case 7:return u=i.newCharacterSheetDataStorage(r),a.prev=8,a.next=11,u.assertDataExistsOnDataStorage();case 11:return a.abrupt("return",new e(Object(s.a)(Object(s.a)({},r),{},{characterSheetDataStorage:u})));case 14:throw a.prev=14,a.t0=a.catch(8),console.error(t,{error:a.t0}),Error('Could not create character sheet instance with id "'.concat(o,'", Message: ').concat(a.t0));case 18:case"end":return a.stop()}}),a,null,[[8,14]])})));return function(t){return a.apply(this,arguments)}}()},{key:"newDataObject",value:function(t){return Object(f.a)(t)}}]),e}();p.instances=new Map}).call(this,"/index.js")},,function(t,e,a){"use strict";(function(t){var r=a(20);a.d(e,"a",(function(){return r.a})),console.warn(t,"init")}).call(this,"/index.js")},,function(t,e,a){"use strict";(function(t){function r(e){switch(e){case"Strength":case"Dexterity":case"Stamina":return"Physical";case"Charisma":case"Manipulation":case"Composure":return"Social";case"Intelligence":case"Wits":case"Resolve":return"Mental";default:throw Error("".concat(t,' ERROR: Unknown attribute name "').concat(e,'"'))}}a.d(e,"a",(function(){return r}))}).call(this,"/index.js")},function(t,e,a){"use strict";function r(t){return{id:t.id,attributes:t.attributes.data(),disciplines:t.disciplines.data(),skills:t.skills.data(),touchstonesAndConvictions:t.touchstonesAndConvictions.data(),clan:t.clan.data(),name:t.name.data(),sire:t.sire.data(),health:t.health.data(),humanity:t.humanity.data(),hunger:t.hunger.data(),bloodPotency:t.bloodPotency.data(),willpower:t.willpower.data()}}a.d(e,"a",(function(){return r}))},function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var r=a(7);function n(t){return{id:t.id,bloodPotency:{name:"Blood Potency",value:0},health:{name:"Health",value:0},humanity:{name:"Humanity",value:0},hunger:{name:"Hunger",value:0},willpower:{name:"Willpower",value:0},name:{name:"Name",value:r.d},sire:{name:"Sire",value:r.d},clan:{name:"Clan",value:r.d},attributes:[],disciplines:[],skills:[],touchstonesAndConvictions:[]}}},function(t,e,a){"use strict";a.d(e,"a",(function(){return g}));var r=a(2),n=a(1),i=a(3),o=a(10),c=a(5),s=a(6),u=function(){function t(e){var a=e.logger,r=e.describe;Object(n.a)(this,t),this.logger=void 0,this.describe=void 0,this.logger=a,this.describe=r}return Object(i.a)(t,[{key:"events",get:function(){return Object(r.a)(this.logger.events)}},{key:"report",get:function(){return this.logger.report}}]),t}();var l=function(){function t(e){var a=e.sourceName,r=e.parentLogHandler;Object(n.a)(this,t),this.parentLogHandler=void 0,this.sourceName=void 0,this.events=[],this.reporter=void 0,this.sourceType=void 0,this.sourceName=a,this.parentLogHandler=r}return Object(i.a)(t,[{key:"getLogEvents",value:function(){return Object(r.a)(this.events)}},{key:"log",value:function(t){this.events.push(t),this.parentLogHandler&&this.parentLogHandler(t)}}]),t}(),h=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(t){var r;Object(n.a)(this,a),(r=e.call(this,t)).reporter=void 0,r.sourceType="Trait";return r.reporter=new u({logger:Object(o.a)(r),describe:function(){return function(t){throw Error("Not implemented")}(Object(o.a)(r))}}),r}return Object(i.a)(a,[{key:"report",get:function(){return{events:Object(r.a)(this.events),sourceName:this.sourceName,sourceType:this.sourceType}}}]),a}(l);function v(t,e,a){var r=e.get(t);if(r)return r;var n=new h({sourceName:t,parentLogHandler:a});return e.set(t,n),n}var d=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(t){var r;Object(n.a)(this,a),(r=e.call(this,t)).childTraitLoggers=new Map,r.reporter=void 0,r.sourceType="Trait Collection";return r.reporter=new u({logger:Object(o.a)(r),describe:function(){return function(t){throw Error("Not implemented")}(Object(o.a)(r))}}),r}return Object(i.a)(a,[{key:"report",get:function(){return{events:Object(r.a)(this.events),sourceName:this.sourceName,sourceType:this.sourceType,traitLogReports:this.getChildTraitReports()}}},{key:"createChildTraitLogger",value:function(t){var e=this;return v(t.sourceName,this.childTraitLoggers,(function(t){return e.log(t)}))}},{key:"getChildTraitReports",value:function(){return Array.from(this.childTraitLoggers.values()).map((function(t){return t.report}))}}]),a}(l);var g=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(t){var r;Object(n.a)(this,a),(r=e.call(this,t)).childTraitCollectionLoggers=new Map,r.childTraitLoggers=new Map,r.reporter=void 0,r.sourceType="Character Sheet";return r.reporter=new u({logger:Object(o.a)(r),describe:function(){return function(t){throw Error("Not implemented")}(Object(o.a)(r))}}),r}return Object(i.a)(a,[{key:"report",get:function(){var t=this.getChildTraitCollectionReports().reduce((function(t,e){return[].concat(Object(r.a)(t),Object(r.a)(e.traitLogReports))}),[]);return{sourceName:this.sourceName,sourceType:this.sourceType,events:Object(r.a)(this.events),traitLogReports:[].concat(Object(r.a)(this.getChildTraitReports()),Object(r.a)(t)),traitCollectionLogReports:this.getChildTraitCollectionReports()}}},{key:"createChildTraitCollectionLogger",value:function(t){var e=this;return function(t,e,a){var r=e.get(t);if(r)return r;var n=new d({sourceName:t,parentLogHandler:a});return e.set(t,n),n}(t.sourceName,this.childTraitCollectionLoggers,(function(t){return e.log(t)}))}},{key:"createChildTraitLogger",value:function(t){var e=this;return v(t.sourceName,this.childTraitLoggers,(function(t){return e.log(t)}))}},{key:"getChildTraitCollectionReports",value:function(){return Array.from(this.childTraitCollectionLoggers.values()).map((function(t){return t.report}))}},{key:"getChildTraitReports",value:function(){return Array.from(this.childTraitLoggers.values()).map((function(t){return t.report}))}}]),a}(l)},,function(t,e,a){},,,,,function(t,e,a){},,,function(t,e,a){"use strict";a.r(e);a(29);var r=a(13),n=a.n(r),i=a(21),o=a.n(i),c=(a(34),a(22)),s=a.p+"static/media/logo.6ce24c58.svg",u=a(9),l=c.a.newDataObject({id:""});var h=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)("img",{src:s,className:"App-logo",alt:"logo"}),Object(u.jsxs)("p",{children:["Edit ",Object(u.jsx)("code",{children:"src/App.js"})," and save to reload."]}),Object(u.jsxs)("p",{children:["Charactersheet data: ",JSON.stringify(l)]}),Object(u.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]})})},v=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,38)).then((function(e){var a=e.getCLS,r=e.getFID,n=e.getFCP,i=e.getLCP,o=e.getTTFB;a(t),r(t),n(t),i(t),o(t)}))};o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root")),v()}],[[37,1,2]]]);
//# sourceMappingURL=main.3d97db66.chunk.js.map